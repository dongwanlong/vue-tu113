webpackJsonp([1],{"0CwL":function(e,t,a){var s={"./af":"BDq7","./af.js":"BDq7","./ar":"5+h0","./ar-dz":"qUB5","./ar-dz.js":"qUB5","./ar-kw":"iOhK","./ar-kw.js":"iOhK","./ar-ly":"+qXE","./ar-ly.js":"+qXE","./ar-ma":"9CSN","./ar-ma.js":"9CSN","./ar-sa":"18kz","./ar-sa.js":"18kz","./ar-tn":"kPAx","./ar-tn.js":"kPAx","./ar.js":"5+h0","./az":"gGYd","./az.js":"gGYd","./be":"bwxU","./be.js":"bwxU","./bg":"JGhJ","./bg.js":"JGhJ","./bm":"Xru4","./bm.js":"Xru4","./bn":"7kNY","./bn.js":"7kNY","./bo":"PoV8","./bo.js":"PoV8","./br":"pKqw","./br.js":"pKqw","./bs":"/TJY","./bs.js":"/TJY","./ca":"YSL1","./ca.js":"YSL1","./cs":"6rWx","./cs.js":"6rWx","./cv":"uEOG","./cv.js":"uEOG","./cy":"HMVL","./cy.js":"HMVL","./da":"eJcm","./da.js":"eJcm","./de":"76Xd","./de-at":"wguz","./de-at.js":"wguz","./de-ch":"t9sU","./de-ch.js":"t9sU","./de.js":"76Xd","./dv":"qpG3","./dv.js":"qpG3","./el":"RU5T","./el.js":"RU5T","./en-au":"xkql","./en-au.js":"xkql","./en-ca":"LaAa","./en-ca.js":"LaAa","./en-gb":"q9zR","./en-gb.js":"q9zR","./en-ie":"wQFa","./en-ie.js":"wQFa","./en-il":"UOkQ","./en-il.js":"UOkQ","./en-nz":"tdgP","./en-nz.js":"tdgP","./eo":"+psB","./eo.js":"+psB","./es":"X8i8","./es-do":"Do8U","./es-do.js":"Do8U","./es-us":"0nXy","./es-us.js":"0nXy","./es.js":"X8i8","./et":"dguy","./et.js":"dguy","./eu":"3rUw","./eu.js":"3rUw","./fa":"V5p0","./fa.js":"V5p0","./fi":"7ewy","./fi.js":"7ewy","./fo":"VdSW","./fo.js":"VdSW","./fr":"lcbB","./fr-ca":"w6ES","./fr-ca.js":"w6ES","./fr-ch":"lp7T","./fr-ch.js":"lp7T","./fr.js":"lcbB","./fy":"PB+s","./fy.js":"PB+s","./gd":"4eWq","./gd.js":"4eWq","./gl":"6eiy","./gl.js":"6eiy","./gom-latn":"PoEu","./gom-latn.js":"PoEu","./gu":"52jv","./gu.js":"52jv","./he":"aGFt","./he.js":"aGFt","./hi":"ovgQ","./hi.js":"ovgQ","./hr":"sR8V","./hr.js":"sR8V","./hu":"jIBy","./hu.js":"jIBy","./hy-am":"rl7R","./hy-am.js":"rl7R","./id":"l+BE","./id.js":"l+BE","./is":"AcWJ","./is.js":"AcWJ","./it":"hMys","./it.js":"hMys","./ja":"rxB3","./ja.js":"rxB3","./jv":"8JrF","./jv.js":"8JrF","./ka":"Du88","./ka.js":"Du88","./kk":"ed4t","./kk.js":"ed4t","./km":"3MAz","./km.js":"3MAz","./kn":"NnY8","./kn.js":"NnY8","./ko":"9GQR","./ko.js":"9GQR","./ky":"82U/","./ky.js":"82U/","./lb":"4TvZ","./lb.js":"4TvZ","./lo":"kWxv","./lo.js":"kWxv","./lt":"hPoR","./lt.js":"hPoR","./lv":"VA5M","./lv.js":"VA5M","./me":"8KEV","./me.js":"8KEV","./mi":"sKWT","./mi.js":"sKWT","./mk":"8pEt","./mk.js":"8pEt","./ml":"Z9vE","./ml.js":"Z9vE","./mr":"y6v4","./mr.js":"y6v4","./ms":"5s/w","./ms-my":"4gdy","./ms-my.js":"4gdy","./ms.js":"5s/w","./mt":"/mn1","./mt.js":"/mn1","./my":"fpJ9","./my.js":"fpJ9","./nb":"Wc3u","./nb.js":"Wc3u","./ne":"h1XZ","./ne.js":"h1XZ","./nl":"hLQP","./nl-be":"Z2qm","./nl-be.js":"Z2qm","./nl.js":"hLQP","./nn":"6jUg","./nn.js":"6jUg","./pa-in":"WBhe","./pa-in.js":"WBhe","./pl":"tZSx","./pl.js":"tZSx","./pt":"OHwL","./pt-br":"A7w8","./pt-br.js":"A7w8","./pt.js":"OHwL","./ro":"uDQF","./ro.js":"uDQF","./ru":"kiL4","./ru.js":"kiL4","./sd":"/ctn","./sd.js":"/ctn","./se":"xTiq","./se.js":"xTiq","./si":"8uoX","./si.js":"8uoX","./sk":"/IH8","./sk.js":"/IH8","./sl":"eAL5","./sl.js":"eAL5","./sq":"+hX9","./sq.js":"+hX9","./sr":"VbzY","./sr-cyrl":"Fiaj","./sr-cyrl.js":"Fiaj","./sr.js":"VbzY","./ss":"q+uN","./ss.js":"q+uN","./sv":"3atA","./sv.js":"3atA","./sw":"CYjM","./sw.js":"CYjM","./ta":"HYkj","./ta.js":"HYkj","./te":"DPeS","./te.js":"DPeS","./tet":"owx7","./tet.js":"owx7","./tg":"vbyA","./tg.js":"vbyA","./th":"euk6","./th.js":"euk6","./tl-ph":"Pan4","./tl-ph.js":"Pan4","./tlh":"4KRO","./tlh.js":"4KRO","./tr":"D44C","./tr.js":"D44C","./tzl":"WDKa","./tzl.js":"WDKa","./tzm":"nrHS","./tzm-latn":"nBIm","./tzm-latn.js":"nBIm","./tzm.js":"nrHS","./ug-cn":"apxY","./ug-cn.js":"apxY","./uk":"zFgi","./uk.js":"zFgi","./ur":"RzSa","./ur.js":"RzSa","./uz":"vFmK","./uz-latn":"LVAz","./uz-latn.js":"LVAz","./uz.js":"vFmK","./vi":"oIIj","./vi.js":"oIIj","./x-pseudo":"8zQP","./x-pseudo.js":"8zQP","./yo":"tjlS","./yo.js":"tjlS","./zh-cn":"at/I","./zh-cn.js":"at/I","./zh-hk":"7xHM","./zh-hk.js":"7xHM","./zh-tw":"v/sX","./zh-tw.js":"v/sX"};function r(e){return a(n(e))}function n(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id="0CwL"},Hvix:function(e,t){},"Lc6+":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("VCXJ"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[this._v("\n  header\n  "),t("el-button",{attrs:{round:""}},[this._v("圆形按钮")]),this._v(" "),t("ElButton",{attrs:{round:""}},[this._v("圆形按钮")])],1)},staticRenderFns:[]},n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"menu"},[t("router-link",{attrs:{to:"/imgs"}},[t("div",{staticClass:"menu-item center"},[t("i",{staticClass:"fa fa-file-image-o fa-2x gray-4"})])]),this._v(" "),t("router-link",{attrs:{to:"/sources"}},[t("div",{staticClass:"menu-item center"},[t("i",{staticClass:"fa fa-th-large fa-2x gray-4"})])])],1)},staticRenderFns:[]};var i={name:"app",components:{Header:a("Z0/y")({name:"Header",data:function(){return{}}},r,!1,null,null,null).exports,ElSidebar:a("Z0/y")({name:"elSidebar",data:function(){return{}}},n,!1,function(e){a("Y5M6")},"data-v-49ad69f4",null).exports}},o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("el-container",{staticStyle:{height:"100%"}},[t("el-header",{staticClass:"gray-1-bg head"},[this._v("\n        TU113后台资源管理系统\n      ")]),this._v(" "),t("el-container",[t("el-aside",{staticClass:"gray-2-bg",attrs:{width:"60px"}},[t("ElSidebar")],1),this._v(" "),t("el-main",[t("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var l=a("Z0/y")(i,o,!1,function(e){a("Wrof")},null,null).exports,c=a("L7Pj"),u=a.n(c),m=a("xUsN"),h=a.n(m),f=(a("NuO4"),a("zO6J")),p=a("a3Yh"),v=a.n(p),g=a("3cXf"),b=a.n(g),y={ajax:function(e,t,a){console.log(1111111111,e),$.ajax({type:"post",url:e,data:b()(t),contentType:"application/json",dataType:"json",success:function(e){200==e.code?a({result:0,data:e}):a({result:1,data:e})},error:function(e){a({result:1,data:"AJAX错误"})}})},notifyError:function(e,t){e.$notify({message:t,duration:3e3,type:"error"})},successError:function(e,t){e.$notify({message:t,duration:3e3,type:"success"})}},j="http://39.106.64.5:80/",_={imgsType:{funny:"funny",battle:"battle",food:"food",suspense:"suspense",animation:"animation",movie:"movie",tv:"tv",show:"show"},typeSet:[{value:"funny",label:"搞笑"},{value:"battle",label:"热血"},{value:"food",label:"美食"},{value:"suspense",label:"悬疑"},{value:"animation",label:"动画"},{value:"movie",label:"电影"},{value:"tv",label:"电视剧"},{value:"show",label:"综艺节目"}],backSet:{staticUpload:j+"static/upload/",uploadClear:j+"upload-clear",upload:j+"upload",uploadRm:j+"upload-rm",addImg:j+"add-img",editImg:j+"edit-img",imgs:j+"imgs",img:j+"img",addSource:j+"add-source",editSource:j+"edit-source",sources:j+"sources",source:j+"source",rmSource:j+"source-rm",rmImg:j+"img-rm"}},k=a("pkma"),x=a.n(k),w={name:"ImgsWrap",data:function(){return{srh1:"",srh2:null,srh3:null,srh4:[],curPage:0,pageSize:4,total:8,config:_,tbData:[]}},mounted:function(){this.ready=!1,this.refreshTable()},methods:{refreshTable:function(e){var t,a=this,s=this.srh1,r=this.srh2,n=this.srh3,i=this.srh4,o=this.curPage,l=this.pageSize;y.ajax(this.config.backSet.imgs,(t={srh:s,createTime:r},v()(t,"createTime",n),v()(t,"type",i),v()(t,"curPage",o),v()(t,"pageSize",l),t),function(t){0==t.result&&(a.tbData=t.data.data.map(function(e){var t=e._id,a=e._name,s=e._map,r=e._sourceName,n=e._size,i=e._createTime;e.lastTime;return{id:t,name:a,map:s,sourceName:r,size:n,createTime:x()(i).format("YYYY-MM-DD"),lastTime:x()(i).format("YYYY-MM-DD")}}),a.total=t.data.total,"function"==typeof e&&e())})},handleSearch:function(){this.refreshTable()},handleEdit:function(e,t){var a="/imgs-detail/"+this.tbData[e].map+"+"+this.tbData[e].id;this.$router.push(a)},handleDelete:function(e,t){var a=this;y.ajax(this.config.backSet.rmImg,{id:this.tbData[e].id,map:this.tbData[e].map},function(e){0==e.result?a.refreshTable(function(){y.successError(a,"删除成功")}):y.notifyError(a,"删除失败")})},handleCurrentChange:function(e){this.curPage=e-1,this.refreshTable()}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view"},[a("div",{staticClass:"breadcrumb gray-2"},[e._v("当前位置/图组列表")]),e._v(" "),a("div",{staticClass:"header"},[a("div",{staticClass:"search"},[a("el-input",{staticClass:"srh-1",attrs:{placeholder:"名称,ID,作者"},model:{value:e.srh1,callback:function(t){e.srh1=t},expression:"srh1"}}),e._v(" "),a("el-date-picker",{staticClass:"srh-2",attrs:{type:"daterange","range-separator":"至","start-placeholder":"创建日期上限","end-placeholder":"创建日期下限"},model:{value:e.srh2,callback:function(t){e.srh2=t},expression:"srh2"}}),e._v(" "),a("el-date-picker",{staticClass:"srh-3",attrs:{type:"daterange","range-separator":"至","start-placeholder":"修改日期上限","end-placeholder":"修改日期下限"},model:{value:e.srh3,callback:function(t){e.srh3=t},expression:"srh3"}}),e._v(" "),a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.srh4,callback:function(t){e.srh4=t},expression:"srh4"}},e._l(e.config.typeSet,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-button",{staticClass:"srh-4",attrs:{type:"primary"},on:{click:function(t){e.handleSearch()}}},[e._v("搜索")])],1),e._v(" "),a("router-link",{attrs:{to:"imgs-detail/add"}},[a("el-button",{attrs:{type:"primary"}},[e._v("添加")])],1)],1),e._v(" "),a("div",{staticClass:"context"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tbData}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sourceName",label:"作品"}}),e._v(" "),a("el-table-column",{attrs:{prop:"size",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lastTime",label:"修改时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"page-size":e.pageSize,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])},staticRenderFns:[]};var C=a("Z0/y")(w,S,!1,function(e){a("Lc6+")},"data-v-4dc75616",null).exports,z=a("4YfN"),T=a.n(z),Y=a("HzJ8"),E=a.n(Y),D={name:"Upload",data:function(){return{xhr:new XMLHttpRequest,config:_,state:0,imgs:[]}},props:["url","imgSet"],methods:{clearInputFile:function(e){if(e&&e.value){try{e.value=""}catch(e){}if(e.value){var t=document.createElement("form"),a=e.nextSibling,s=e.parentNode;t.appendChild(e),t.reset(),s.insertBefore(e,a)}}},onRemove:function(e){this.imgs=this.imgs.filter(function(t){return t!=e}),this.$emit("uploadrm",e)},onChange:function(e){var t=e.target.files[0],a=new FormData,s=this.url;a.append("file",t),this.xhr.open("POST",s),this.xhr.send(a),this.state=1,this.clearInputFile(document.getElementById("file")),this.$emit("upload",this.imgs)},onPreSuccess:function(e){var t=JSON.parse(e.currentTarget.responseText);this.imgs.push(t.name),this.state=0},onPreError:function(e){this.state=0},onPreAbort:function(e){this.state=0}},mounted:function(){this.xhr.addEventListener("load",this.onPreSuccess,!1),this.xhr.addEventListener("error",this.onPreError,!1),this.xhr.addEventListener("abort",this.onPreAbort,!1),this.imgs=this.imgSet}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload"},[e._l(e.imgs,function(t,s){return a("div",{key:s,staticClass:"upload-item upload-img"},[a("img",{attrs:{src:e.config.backSet.staticUpload+t}}),e._v(" "),a("div",{staticClass:"upload-rm"},[a("i",{staticClass:"fa fa-remove fa-3x gray-4",on:{click:function(a){e.onRemove(t)}}})])])}),e._v(" "),a("label",{staticClass:"upload-item",attrs:{for:"file"}},[a("i",{directives:[{name:"show",rawName:"v-show",value:0===e.state,expression:"state===0"}],staticClass:"fa fa-plus fa-2x gray-4"}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:1===e.state,expression:"state===1"}],staticClass:"el-icon-loading loading"})]),e._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{accept:"image/jpeg,image/jpg",type:"file",name:"file",id:"file"},on:{change:function(t){e.onChange(t)}}})],2)},staticRenderFns:[]};var P=a("Z0/y")(D,I,!1,function(e){a("Hvix")},"data-v-9138aca4",null).exports,R={name:"AddImg",components:{Upload:P},data:function(){return{ready:!1,config:_,id:"",form:{name:"",sourceId:"",type:[],imgs:[]}}},mounted:function(){var e=this;this.ready=!1;var t=this.$router.history.current.params.id;if("add"==t)this.id="add",$.post(this.config.backSet.uploadClear,function(t){e.ready=!0});else{var a=t.split("+");this.map=a[0],this.id=a[1],y.ajax(this.config.backSet.img,{id:this.id,map:this.map},function(t){if(0==t.result){var a=t.data.data;e.form.name=a._name,e.form.sourceId=a._sourceId,e.form.type=a._type.split("-"),e.form.oneWord=a._oneWord;var s=!0,r=!1,n=void 0;try{for(var i,o=E()(a._imgs);!(s=(i=o.next()).done);s=!0){var l=i.value;e.form.imgs.push(l)}}catch(e){r=!0,n=e}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}e.ready=!0}})}},methods:{addImgs:function(){var e=this;y.ajax(this.config.backSet.addImg,this.form,function(t){0==t.result?e.$router.push("/imgs"):y.notifyError(e,"上传失败")})},editImgs:function(){var e=this,t=T()({id:this.id,map:this.map},this.form);y.ajax(this.config.backSet.editImg,t,function(t){0==t.result?e.$router.push("/imgs"):y.notifyError(e,"编辑失败")})},resetForm:function(e){},uploadChange:function(e){this.form.imgs=e},uploadRm:function(e){var t=this;y.ajax(this.config.backSet.uploadRm,{name:e},function(e){0==e.result||y.notifyError(t,"删除失败"),d})}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"breadcrumb gray-2"},[e._v("当前位置/添加图组")]),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.ready,expression:"ready"}],ref:"form",staticClass:"form-wrap",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"作品ID"}},[a("el-input",{model:{value:e.form.sourceId,callback:function(t){e.$set(e.form,"sourceId",t)},expression:"form.sourceId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-checkbox-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.config.typeSet,function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value,name:"type"}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("el-form-item",[a("Upload",{attrs:{url:e.config.backSet.upload,imgSet:e.form.imgs},on:{uploadrm:e.uploadRm,upload:e.uploadChange}})],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"add"==e.id,expression:"id=='add'"}],attrs:{type:"primary"},on:{click:function(t){e.addImgs()}}},[e._v("创建")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"add"!=e.id,expression:"id!='add'"}],attrs:{type:"primary"},on:{click:function(t){e.editImgs()}}},[e._v("编辑")])],1)],1)],1)},staticRenderFns:[]},U=a("Z0/y")(R,W,!1,null,null,null).exports,A={name:"SourcesWrap",data:function(){return{srh1:"",srh2:null,srh3:null,srh4:[],curPage:0,pageSize:4,total:8,config:_,tbData:[]}},mounted:function(){this.ready=!1,this.refreshTable()},methods:{refreshTable:function(e){var t,a=this,s=this.srh1,r=this.srh2,n=this.srh3,i=this.srh4,o=this.curPage,l=this.pageSize;y.ajax(this.config.backSet.sources,(t={srh:s,createTime:r},v()(t,"createTime",n),v()(t,"type",i),v()(t,"curPage",o),v()(t,"pageSize",l),t),function(t){0==t.result&&(a.tbData=t.data.data.map(function(e){var t=e._id,a=e._name,s=e._startYear,r=e._endYear,n=e._createTime;e.lastTime;return{id:t,name:a,year:s+"-"+(r>=2028?"今":r),createTime:x()(n).format("YYYY-MM-DD"),lastTime:x()(n).format("YYYY-MM-DD")}}),a.total=t.data.total,"function"==typeof e&&e())})},handleCurrentChange:function(e){this.curPage=e-1,this.refreshTable()},handleEdit:function(e,t){this.$router.push("/sources-detail/"+this.tbData[e].id)},handleDelete:function(e,t){var a=this;y.ajax(this.config.backSet.rmSource,{id:this.tbData[e].id},function(e){0==e.result?a.refreshTable(function(){y.successError(a,"删除成功")}):y.notifyError(a,"删除失败")})},handleSearch:function(){this.refreshTable()}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view"},[a("div",{staticClass:"breadcrumb gray-2"},[e._v("当前位置/作品列表")]),e._v(" "),a("div",{staticClass:"header"},[a("div",{staticClass:"search"},[a("el-input",{staticClass:"srh-1",attrs:{placeholder:"名称,ID,作者"},model:{value:e.srh1,callback:function(t){e.srh1=t},expression:"srh1"}}),e._v(" "),a("el-date-picker",{staticClass:"srh-2",attrs:{type:"daterange","range-separator":"至","start-placeholder":"创建日期上限","end-placeholder":"创建日期下限"},model:{value:e.srh2,callback:function(t){e.srh2=t},expression:"srh2"}}),e._v(" "),a("el-date-picker",{staticClass:"srh-3",attrs:{type:"daterange","range-separator":"至","start-placeholder":"修改日期上限","end-placeholder":"修改日期下限"},model:{value:e.srh3,callback:function(t){e.srh3=t},expression:"srh3"}}),e._v(" "),a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.srh4,callback:function(t){e.srh4=t},expression:"srh4"}},e._l(e.config.typeSet,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-button",{staticClass:"srh-4",attrs:{type:"primary"},on:{click:function(t){e.handleSearch()}}},[e._v("搜索")])],1),e._v(" "),a("router-link",{attrs:{to:"sources-detail/add"}},[a("el-button",{attrs:{type:"primary"}},[e._v("添加")])],1)],1),e._v(" "),a("div",{staticClass:"context"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tbData}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"year",label:"年代"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lastTime",label:"修改时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"page-size":e.pageSize,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])},staticRenderFns:[]};var F=a("Z0/y")(A,N,!1,function(e){a("UX/h")},"data-v-799dcdf2",null).exports,q={name:"AddImg",components:{Upload:P},data:function(){return{ready:!1,config:_,id:"",form:{name:"",author:"",startYear:1970,endYear:1970,type:[],oneWord:"",imgs:[]}}},mounted:function(){var e=this;this.ready=!1,this.id=this.$router.history.current.params.id,"add"==this.id?$.post(this.config.backSet.uploadClear,function(t){e.ready=!0}):y.ajax(this.config.backSet.source,{id:this.id},function(t){if(0==t.result){var a=t.data.data;e.form.name=a._name,e.form.author=a._author,e.form.startYear=a._startYear,e.form.endYear=a._endYear,e.form.type=a._type.split("-"),e.form.oneWord=a._oneWord,e.form.desc=a._desc,e.form.imgs.push(a._faceImg),e.ready=!0}})},methods:{addImgs:function(){var e=this;y.ajax(this.config.backSet.addSource,this.form,function(t){0==t.result?e.$router.push("/sources"):y.notifyError(e,"上传失败")})},editImgs:function(){var e=this,t=T()({id:this.id},this.form);y.ajax(this.config.backSet.editSource,t,function(t){0==t.result?e.$router.push("/sources"):y.notifyError(e,"编辑失败")})},uploadChange:function(e){this.form.imgs=e},uploadRm:function(e){var t=this;y.ajax(this.config.backSet.uploadRm,{name:e},function(e){0==e.result||y.notifyError(t,"删除失败")})}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"breadcrumb gray-2"},[e._v("当前位置/添加作品")]),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.ready,expression:"ready"}],ref:"form",staticClass:"form-wrap",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"作者"}},[a("el-input",{model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"起始年份"}},[a("el-input",{model:{value:e.form.startYear,callback:function(t){e.$set(e.form,"startYear",t)},expression:"form.startYear"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"终止年份"}},[a("el-input",{model:{value:e.form.endYear,callback:function(t){e.$set(e.form,"endYear",t)},expression:"form.endYear"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-checkbox-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-checkbox",{attrs:{label:e.config.imgsType.battle,name:"type"}},[e._v("热血")]),e._v(" "),a("el-checkbox",{attrs:{label:e.config.imgsType.funny,name:"type"}},[e._v("搞笑")]),e._v(" "),a("el-checkbox",{attrs:{label:e.config.imgsType.food,name:"type"}},[e._v("美食")]),e._v(" "),a("el-checkbox",{attrs:{label:e.config.imgsType.suspense,name:"type"}},[e._v("悬疑")]),e._v(" "),a("el-checkbox",{attrs:{label:e.config.imgsType.animation,name:"type"}},[e._v("动画")]),e._v(" "),a("el-checkbox",{attrs:{label:e.config.imgsType.movie,name:"type"}},[e._v("电影")]),e._v(" "),a("el-checkbox",{attrs:{label:e.config.imgsType.tv,name:"type"}},[e._v("电视剧")]),e._v(" "),a("el-checkbox",{attrs:{label:e.config.imgsType.show,name:"type"}},[e._v("综艺节目")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"总结"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容简介"},model:{value:e.form.oneWord,callback:function(t){e.$set(e.form,"oneWord",t)},expression:"form.oneWord"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"简介"}},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容简介"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),a("el-form-item",[a("Upload",{attrs:{url:e.config.backSet.upload,imgSet:e.form.imgs},on:{uploadrm:e.uploadRm,upload:e.uploadChange}})],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"add"==e.id,expression:"id=='add'"}],attrs:{type:"primary"},on:{click:function(t){e.addImgs()}}},[e._v("创建")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"add"!=e.id,expression:"id!='add'"}],attrs:{type:"primary"},on:{click:function(t){e.editImgs()}}},[e._v("编辑")])],1)],1)],1)},staticRenderFns:[]},M=a("Z0/y")(q,L,!1,null,null,null).exports;s.default.use(f.a);var X=new f.a({routes:[{path:"/",redirect:"/imgs"},{path:"/imgs",component:C},{path:"/imgs-detail/:id",component:U},{path:"/sources",component:F},{path:"/sources-detail/:id",component:M}]});window.$=u.a,s.default.config.productionTip=!1,s.default.use(h.a),new s.default({el:"#app",router:X,template:"<App/>",components:{App:l}})},NuO4:function(e,t){},"UX/h":function(e,t){},Wrof:function(e,t){},Y5M6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.8c53921b93a2ff56637c.js.map